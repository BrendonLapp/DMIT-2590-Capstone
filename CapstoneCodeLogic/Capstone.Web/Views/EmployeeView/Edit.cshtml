@model Capstone.Web.Models.Employee.ListEmployeeViewModel
@using Capstone.Web.Admin;
@{
    ViewBag.Title = "Employees";
}

<link href="~/Styles/accordionstyles.css" rel="stylesheet" />

<h2>Edit Employee</h2>

@using (Html.BeginForm())
{
@Html.AntiForgeryToken()
@Html.ValidationSummary(false, "", new { @class = "text-danger" })
@Html.HiddenFor(model => model.EmployeeID)

<div class="form-horizontal row">
    <hr />
    <div class="lefthalf">
        <div class="titlebox titleboxwidthchange">
            <span>Employee Information for @Model.FirstName @Model.LastName</span>
        </div>
        @*<button class="accordion" type="button">Employee Information <span><i class="fas fa-chevron-down"></i></span></button>*@
        <div class="panel">
            <div class="lefthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.FirstName, "First Name", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.PhoneNumber, "Phone Number", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.PhoneNumber, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.CompanyPhoneNumber, "Company Phone Number", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.CompanyPhoneNumber, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.BirthDate, "Birth Date", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.BirthDate, new { htmlAttributes = new { @Value = Model.BirthDate.ToShortDateString(), @class = "form-control" } })
                    </div>
                </div>
            </div>

            <div class="righthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.LastName, "Last Name", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.AlternatePhoneNumber, "Alternate Phone Number", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.AlternatePhoneNumber, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>
                @if (Model.EmployeeID != IdentityHelper.GetEmployeeID())
                    {
                <div class="form-group">
                    @Html.LabelFor(model => model.UserID, "User ID", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.UserID, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>
                    }
                    else
                    {
                @Html.HiddenFor(model => model.UserID)
                    }
            </div>
        </div>

        <button class="titlebox titleboxwidthchange" type="button">Emergency Contact </button>
        <div class="panel">
            <div class="lefthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.EmergencyContactName1, "Emergency Contact 1", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.EmergencyContactName1, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.EmergencyContactName2, "Emergency Contact 2", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.EmergencyContactName2, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>
            </div>

            <div class="righthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.EmergencyContactPhoneNumber1, "Emergency Phone Number 1", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.EmergencyContactPhoneNumber1, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.EmergencyContactPhoneNumber2, "Emergency Phone 2", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.EmergencyContactPhoneNumber2, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="righthalf">
        <div class="titlebox titleboxwidthchange">
            <span>Company Information</span>
        </div>
        @*<button class="accordion" type="button">Company Information <span><i class="fas fa-chevron-down"></i></span></button>*@
        <div class="panel">
            <div class="lefthalf innerlefthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.StationNumber, "Station Number", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.StationNumber, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>

                @*<div class="form-group">
                        @Html.LabelFor(model => model.RoleID, "Role", htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="accordiontextbox">
                            @Html.DropDownList("RoleID", null, htmlAttributes: new { @class = "form-control" })
                        </div>
                    </div>*@

                <div class="form-group">
                    @Html.LabelFor(model => model.PositionID, "Position", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.DropDownList("PositionID", null, htmlAttributes: new { @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.ScheduleTypeID, "Schedule Type", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="customtextbox">
                        @Html.DropDownList("ScheduleTypeID", null, htmlAttributes: new { @class = "form-control" })
                    </div>
                </div>



            </div>

            <div class="righthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.ComputerNumber, "Computer Number", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.ComputerNumber, new { htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>
                @if (Model.EmployeeID != IdentityHelper.GetEmployeeID())
                    {
                <div class="form-group">
                    @Html.LabelFor(model => model.RoleID, "User Role", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.DropDownList("RoleID", null, htmlAttributes: new { @class = "form-control" })
                    </div>
                </div>
                    }
                    else
                    {
                @Html.HiddenFor(model => model.RoleID)
                    }
            </div>
        </div>

        <button class="titlebox titleboxwidthchange" type="button">Employment Dates</button>
        <div class="panel">
            <div class="lefthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.ActivationDate, "Start Date", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.ActivationDate, new { htmlAttributes = new { @Value = Model.ActivationDate.ToShortDateString(), @class = "form-control" } })
                    </div>
                </div>

                @*<div class="form-group">
                        @Html.LabelFor(model => model.StartDate, "Start Date", htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="accordiontextbox">
                            @Html.EditorFor(model => model.StartDate, new { htmlAttributes = new { @Value = Model.StartDate.ToShortDateString(), @class = "form-control" } })
                        </div>
                    </div>*@
            </div>

            <div class="righthalf">
                <div class="form-group">
                    @Html.LabelFor(model => model.DeactivationDate, "End Date", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="accordiontextbox">
                        @Html.EditorFor(model => model.DeactivationDate, new { htmlAttributes = new { @Value = Model.DeactivationDate.HasValue ? Model.DeactivationDate.Value.ToShortDateString() : null, @class = "form-control" } })
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="form-group negativemarginbuttonrow">
    <div>
        <a href="~/EmployeeView/Index" class="btn btn-default cancelButton">Cancel</a>
    </div>
    <div>
        <input type="submit" value="Save" class="btn btn-default savebutton" />
    </div>
</div>

}


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")
    @Styles.Render("~/Content/cssjqryUi")

    <script src="~/Scripts/DatePicker.js"></script>
    <script type="text/javascript">
        $('input[type=text]').each(function () {
            var req = $(this).attr('data-val-required');
            if (undefined != req) {
                var label = $('label[for="' + $(this).attr('id') + '"]');
                var text = label.text();
                if (text.length > 0) {
                    label.append('<span style="color:red"> *</span>');
                }
            }
        });

        $('input[type=datetime]').each(function () {
            var req = $(this).attr('data-val-required');
            if (undefined != req) {
                var label = $('label[for="' + $(this).attr('id') + '"]');
                var text = label.text();
                if (text.length > 0) {
                    label.append('<span style="color:red"> *</span>');
                }
            }
        });
    </script>
    <script src="~/Scripts/accordion.js"></script>
}
